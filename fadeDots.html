<doctype html>

<!-- so you can use css tweens to tween a value, perhaps even on a hidden div. 
then control objects with javascript based on the tween value. i.e. form a 3d array of target positions.
in this example i tween for 10 seconds , and the balls become bigger and smaller again becuase we have the 50% set in the webkit keyframe
-->


<head>
    
    <style>
        
        body { padding: 100px 0 0 100px; background: #ccc;}
        
        div {
            width: 0;
            height: 10px;
            background-color: #000;
            -webkit-animation: fade 10s ease-out;
            -webkit-animation-fill-mode: forwards;
        }
        
        @-webkit-keyframes fade {
            0% { width: 0; }
            50% { width: 100px; }
        }
        
    </style>
    
</head>

<body>

<script>
        
    // canvas element and 2D context
    var canvas = document.createElement( 'canvas' );
    var	context = canvas.getContext( '2d' );
    var container = document.createElement( 'div' );
    document.body.appendChild( container );
    container.appendChild(canvas); 
    canvas.width = window.innerWidth; 
    canvas.height = window.innerHeight;

    setInterval( test, 1 );
    
    function test()
    {
        var targetValue = 30;
    
        var myDiv = document.getElementById( "pedro" );

//      window.console.log( (targetYposition*myDiv.offsetWidth)/100 );


		// set the fill style to have the right alpha
		context.fillStyle = "rgba(0,0,0,.01)";
        context.fillRect(0,0,250,250);
        

		// set the fill style to have the right alpha
		context.fillStyle = "rgba("+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+","+Math.round(Math.random()*255)+","+Math.random()*1+")";
		
		for( var i=0; i<1; i++ )
		{
            // draw a circle grab the css tween position and use to control our arc
            context.beginPath();
            context.arc(Math.random()*400, Math.random()*400, (targetValue*myDiv.offsetWidth)/100, 0, Math.PI*2, true);
            context.closePath();
            context.fill();
        }

    }
    
</script>

<div id="pedro"></div>

</body>
</html>
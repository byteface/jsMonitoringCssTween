<doctype html>

<!-- so you can use css tweens to tween a value, perhaps even on a hidden div. 
then control objects with javascript based on the tween value. i.e. form a 3d array of target positions.

draw a ball across the page
-->


<head>
    
    <style>
        
        body { padding: 100px 0 0 100px; background: #ccc;}
        
        div {
            width: 0;
            height: 1px;
            background-color: #000;
            -webkit-animation: animate 3s ease-in;
            -webkit-animation-fill-mode: forwards;
        }
        
        @-webkit-keyframes animate {
            0% { width: 0; }
            50% { width: 100px; }
        }
        
    </style>
    
</head>

<body>

<script>
        
    // canvas element and 2D context
    var canvas = document.createElement( 'canvas' );
    var	context = canvas.getContext( '2d' );
    var container = document.createElement( 'div' );
    document.body.appendChild( container );
    container.appendChild(canvas); 
    canvas.width = window.innerWidth; 
    canvas.height = window.innerHeight;

    setInterval( test, 1 );
    
    var angle = .1;
    
    function test()
    {
        context.clearRect ( 0 , 0 , 600 , 600 );
    
        var targetValue = 10;
    
        var myDiv = document.getElementById( "pedro" );

//      window.console.log( (targetValue*myDiv.offsetWidth)/100 );

		// set the fill style to have the right alpha
		context.fillStyle = "rgba(100,255,255,1)";

        context.beginPath(); // begin custom shape
        context.moveTo(170, 80);
        context.bezierCurveTo(130, 100, 130, 150, 230, 150);
        context.bezierCurveTo(250, 180, 320, 180, 340, 150);
        context.bezierCurveTo(420, 150, 420, 120, 390, 100);
        context.bezierCurveTo(430, 40, 370, 30, 340, 50);
        context.bezierCurveTo(320, 5, 250, 20, 250, 50);
        context.bezierCurveTo(200, 5, 150, 20, 170, 80);
        context.closePath(); // complete custom shape
        context.lineWidth = 3 + targetValue*myDiv.offsetWidth/100;
        context.fillStyle = "#ffffff";
        context.fill();
        context.strokeStyle = "#000000";
        context.stroke();

        context.globalAlpha = myDiv.offsetWidth/100;

}
    
</script>

<div id="pedro"></div>

</body>
</html>